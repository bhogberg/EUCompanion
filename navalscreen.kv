<NavalScreen@BoxLayout>:
    orientation: 'vertical'
    padding: '10dp'
    spacing: 3

    GridLayout:
        cols: 3
        size_hint_max_y: '20dp'

        Widget:

        FloatLayout:
            MDLabel:
                text: 'Fire'
                pos_hint: {'x': .01, 'center_y': .5}
                font_style: 'Caption'

            MDIcon:
                pos_hint: {'x': 0.15, 'center_y': .5}
                icon: 'fire'

            MDSwitch:
                pos_hint: {'x': .3, 'center_y': .5}
                id: combatTypeSelector
                on_active: app.combatselected(*args)

            MDIcon:
                icon: 'sail-boat'
                pos_hint: {'x': .65, 'center_y': .5}

            MDLabel:
                pos_hint: {'x': .85, 'center_y': .5}
                text: "Board"
                font_style: 'Caption'

        Widget:




    Widget:
        id: separator
        size_hint_y: None
        height: 6
        canvas:
            Color:
                rgba: 0., 0., 1., 0.5
            Rectangle:
                pos: 10, separator.center_y
                size: separator.width, 2

    BoxLayout:
        orientation: 'horizontal'
        size_hint_max_y: '40dp'

        MDLabel:
            text: 'Attacker:'
            size_hint: (0.7, 1)
            font_style: 'Body2'
        MDLabel:
            id: att_wgmod
            text: 'WGmod = '
            halign: 'right'
            font_style: 'Body2'

        MDLabel:
            size_hint: (0.4, 1)
            id: att_wind_gauge_modifier_text
            halign: 'left'
            text: '+-'
            font_style: 'Body2'

        MDDropDownItem:
            pos_hint: { 'center_y': .5}
            id: attackerNavalTechButton
            text: 'GA'
            font_size: '14sp'
            on_release: app.attackernavaltechmenu.open()
        BoxLayout:
            orientation: 'horizontal'
            MDLabel:
                halign: 'right'
                pos_hint: {'center_y': .5}
                text: "Pursuing"
                size_hint: None, None
                size: "60dp", "48dp"
                font_style: 'Body2'
            MDCheckbox:
                id: attackerPursuing
                halign: 'left'
                pos_hint: {'center_x': .95, 'center_y': .5}
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: app.attackerpursuingselected(*args)
    BoxLayout:
        orientation: 'horizontal'
        spacing: 2
        size_hint: (1,0.3)
        MDTextField:
            id: txt_field_mrl_att
            hint_text: 'Morale'
            text: '0'
            pos_hint: {"center_y": .5}
            input_filter: 'int'
            input_type: 'number'
            on_focus: Clock.schedule_once(lambda dt: self.select_all()) if self.focus else None
            on_text: app.textfield_change(self, 'att', 'morale')
        MDRaisedButton:
            id: 'mrl+att'
            pos_hint: {"center_y": .5}
            size_hint: (0.3,1)
            text: "+"
            on_press: app.increment(self,'navscr','mrl','att')
        MDRaisedButton:
            id: 'mrl-def'
            pos_hint: {"center_y": .5}
            size_hint: (0.3,1)
            text: "-"
            on_press: app.increment(self,'navscr','mrl','att')
        MDLabel:
            halign: 'right'
            text: "ModRoll="
            font_style: 'Body1'
        MDLabel:
            id: att_roll_label
            halign: 'left'
            text: "3"
            font_style: 'Body1'

    MDSlider:
        size_hint: (1,0.4)
        id: attacker_roll_slider
        hint: False
        min: 3
        max: 14
        value: 3
        on_value: app.roll_slider_change('att',self.value)


    BoxLayout:
        orientation: 'horizontal'
        size_hint: (1,1.1)
        spacing: 5



        BoxLayout:
            orientation: 'vertical'
            spacing: 2

            MDRaisedButton:
                size_hint: (1,0.25)
                id: 'trs+att'
                text: "+"
                on_press: app.increment(self,'navscr','trs','att')


            MDRaisedButton:
                id: 'trs-att'
                size_hint: (1,0.25)
                text: "-"
                on_press: app.increment(self,'navscr','trs','att')

            MDRaisedButton:
                id: 'trs+10att'
                size_hint: (1,0.25)
                text: "+10"
                on_press: app.increment(self,'navscr','trs','att')

            MDRaisedButton:
                id: 'trs-10att'
                text: "-10"
                size_hint: (1,0.25)
                on_press: app.increment(self,'navscr','trs','att')
        MDTextField:
            id: txt_field_trs_att
            hint_text: 'Trs'
            font_size: '20sp'
            text: '0'
            pos_hint: {"center_y": .5}
            input_filter: 'int'
            input_type: 'number'
            on_focus: Clock.schedule_once(lambda dt: self.select_all()) if self.focus else None
            on_text: app.textfield_change(self, 'att', 'trs')


        BoxLayout:
            orientation: 'vertical'
            spacing: 2
            MDRaisedButton:
                id: 'gal+att'
                size_hint: (1,0.25)
                text: "+"
                on_press: app.increment(self,'navscr','gal','att')


            MDRaisedButton:
                id: 'gal-att'
                size_hint: (1,0.25)
                text: "-"
                on_press: app.increment(self,'navscr','gal','att')

            MDRaisedButton:
                id: 'gal+10att'
                size_hint: (1,0.25)
                text: "+10"
                on_press: app.increment(self,'navscr','gal','att')

            MDRaisedButton:
                id: 'gal-10att'
                size_hint: (1,0.25)
                text: "-10"
                on_press: app.increment(self,'navscr','gal','att')
        MDTextField:
            id: txt_field_gal_att
            hint_text: "Ga"
            font_size: '20sp'
            text: '0'
            pos_hint: {"center_y": .5}
            input_filter: 'int'
            input_type: 'number'
            on_focus: Clock.schedule_once(lambda dt: self.select_all()) if self.focus else None
            on_text: app.textfield_change(self, 'att', 'gal')


        BoxLayout:
            orientation: 'vertical'
            spacing: 2
            MDRaisedButton:
                id: 'war+att'
                size_hint: (1,0.25)
                text: "+"
                pos_hint: {"center_y": .7}
                on_press: app.increment(self,'navscr','war','att')


            MDRaisedButton:
                id: 'war-att'
                size_hint: (1,0.25)
                text: "-"
                pos_hint: {"center_y": .7}
                on_press: app.increment(self,'navscr','war','att')

            MDRaisedButton:
                id: 'war+10att'
                size_hint: (1,0.25)
                text: "+10"
                pos_hint: {"center_y": .7}
                on_press: app.increment(self,'navscr','war','att')

            MDRaisedButton:
                id: 'war-10att'
                size_hint: (1,0.25)
                text: "-10"
                pos_hint: {"center_y": .7}
                on_press: app.increment(self,'navscr','war','att')
        MDTextField:
            id: txt_field_war_att
            hint_text: "War"
            font_size: '20sp'
            text: '0'
            pos_hint: {"center_y": .5}
            input_filter: 'int'
            input_type: 'number'
            on_focus: Clock.schedule_once(lambda dt: self.select_all()) if self.focus else None
            on_text: app.textfield_change(self, 'att', 'war')

    MDLabel:
        text: 'Attackers results:'
        font_style: 'Caption'
        size_hint: 1, 0.2
    MDLabel:
        id: att_results
        text: 'XXX.X pow  table X:  [XX%, -X] : cause XX loss'
        font_style: 'Body1'
        size_hint: 1, 0.2




    Widget:
        id: separator
        size_hint_y: None
        height: 6
        canvas:
            Color:
                rgba: 0., 0., 1., 0.5
            Rectangle:
                pos: 10, separator.center_y
                size: separator.width, 2

    BoxLayout:
        orientation: 'horizontal'
        size_hint_max_y: '40dp'

        MDLabel:
            text: 'Defender:'
            size_hint: (0.7, 1)
            font_style: 'Body2'
        MDLabel:
            id: def_wgmod
            text: 'WGmod = '
            halign: 'right'
            font_style: 'Body2'

        MDLabel:
            size_hint: (0.4, 1)
            id: def_wind_gauge_modifier_text
            halign: 'left'
            text: '+-'
            font_style: 'Body2'

        MDDropDownItem:
            pos_hint: { 'center_y': .5}
            id: defenderNavalTechButton
            text: 'GA'
            font_size: '14sp'
            on_release: app.defendernavaltechmenu.open()
        BoxLayout:
            orientation: 'horizontal'
            MDLabel:
                halign: 'right'
                pos_hint: {'center_y': .5}
                text: "Pursuing"
                size_hint: None, None
                size: "60dp", "48dp"
                font_style: 'Body2'
            MDCheckbox:
                id: defenderPursuing
                halign: 'left'
                pos_hint: {'center_x': .95, 'center_y': .5}
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: app.defenderpursuingselected(*args)
    BoxLayout:
        orientation: 'horizontal'
        spacing: 2
        size_hint: (1,0.3)
        MDTextField:
            id: txt_field_mrl_def
            hint_text: 'Morale'
            text: '0'
            pos_hint: {"center_y": .5}
            input_filter: 'int'
            input_type: 'number'
            on_focus: Clock.schedule_once(lambda dt: self.select_all()) if self.focus else None
            on_text: app.textfield_change(self, 'def', 'morale')
        MDRaisedButton:
            id: 'mrl+def'
            pos_hint: {"center_y": .5}
            size_hint: (0.3,1)
            text: "+"
            on_press: app.increment(self,'navscr','mrl','def')
        MDRaisedButton:
            id: 'mrl-def'
            pos_hint: {"center_y": .5}
            size_hint: (0.3,1)
            text: "-"
            on_press: app.increment(self,'navscr','mrl','def')
        MDLabel:
            halign: 'right'
            text: "ModRoll="
            font_style: 'Body1'
        MDLabel:
            id: def_roll_label
            halign: 'left'
            text: "3"
            font_style: 'Body1'

    MDSlider:
        size_hint: (1,0.4)
        id: defender_roll_slider
        hint: False
        min: 3
        max: 14
        value: 3
        on_value: app.roll_slider_change('def',self.value)


    BoxLayout:
        orientation: 'horizontal'
        size_hint: (1,1.1)
        spacing: 5



        BoxLayout:
            orientation: 'vertical'
            spacing: 2

            MDRaisedButton:
                size_hint: (1,0.25)
                id: 'trs+def'
                text: "+"
                on_press: app.increment(self,'navscr','trs','def')


            MDRaisedButton:
                id: 'trs-def'
                size_hint: (1,0.25)
                text: "-"
                on_press: app.increment(self,'navscr','trs','def')

            MDRaisedButton:
                id: 'trs+10def'
                size_hint: (1,0.25)
                text: "+10"
                on_press: app.increment(self,'navscr','trs','def')

            MDRaisedButton:
                id: 'trs-10def'
                text: "-10"
                size_hint: (1,0.25)
                on_press: app.increment(self,'navscr','trs','def')
        MDTextField:
            id: txt_field_trs_def
            hint_text: 'Trs'
            font_size: '20sp'
            text: '0'
            pos_hint: {"center_y": .5}
            input_filter: 'int'
            input_type: 'number'
            on_focus: Clock.schedule_once(lambda dt: self.select_all()) if self.focus else None
            on_text: app.textfield_change(self, 'def', 'trs')


        BoxLayout:
            orientation: 'vertical'
            spacing: 2
            MDRaisedButton:
                id: 'gal+def'
                size_hint: (1,0.25)
                text: "+"
                on_press: app.increment(self,'navscr','gal','def')


            MDRaisedButton:
                id: 'gal-def'
                size_hint: (1,0.25)
                text: "-"
                on_press: app.increment(self,'navscr','gal','def')

            MDRaisedButton:
                id: 'gal+10def'
                size_hint: (1,0.25)
                text: "+10"
                on_press: app.increment(self,'navscr','gal','def')

            MDRaisedButton:
                id: 'gal-10def'
                size_hint: (1,0.25)
                text: "-10"
                on_press: app.increment(self,'navscr','gal','def')
        MDTextField:
            id: txt_field_gal_def
            hint_text: "Ga"
            font_size: '20sp'
            text: '0'
            pos_hint: {"center_y": .5}
            input_filter: 'int'
            input_type: 'number'
            on_focus: Clock.schedule_once(lambda dt: self.select_all()) if self.focus else None
            on_text: app.textfield_change(self, 'def', 'gal')


        BoxLayout:
            orientation: 'vertical'
            spacing: 2
            MDRaisedButton:
                id: 'war+def'
                size_hint: (1,0.25)
                text: "+"
                pos_hint: {"center_y": .7}
                on_press: app.increment(self,'navscr','war','def')


            MDRaisedButton:
                id: 'war-def'
                size_hint: (1,0.25)
                text: "-"
                pos_hint: {"center_y": .7}
                on_press: app.increment(self,'navscr','war','def')

            MDRaisedButton:
                id: 'war+10def'
                size_hint: (1,0.25)
                text: "+10"
                pos_hint: {"center_y": .7}
                on_press: app.increment(self,'navscr','war','def')

            MDRaisedButton:
                id: 'war-10att'
                size_hint: (1,0.25)
                text: "-10"
                pos_hint: {"center_y": .7}
                on_press: app.increment(self,'navscr','war','def')
        MDTextField:
            id: txt_field_war_def
            hint_text: "War"
            font_size: '20sp'
            text: '0'
            pos_hint: {"center_y": .5}
            input_filter: 'int'
            input_type: 'number'
            on_focus: Clock.schedule_once(lambda dt: self.select_all()) if self.focus else None
            on_text: app.textfield_change(self, 'def', 'war')

    MDLabel:
        text: 'Defenders results:'
        font_style: 'Caption'
        size_hint: 1, 0.2
    MDLabel:
        id: def_results
        text: 'XXX.X pow  table X:  [XX%, -X] : cause XX loss'
        font_style: 'Body1'
        size_hint: 1, 0.2